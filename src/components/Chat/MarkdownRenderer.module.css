/* ----------------------------- Prose wrapper ------------------------------ */

.prose {
  font-size: 0.875rem;
  line-height: 1.6;
  color: var(--color-text);
  word-break: break-word;
  /* Reset margins so the first/last child don't add extra spacing */
}

.prose > *:first-child {
  margin-top: 0;
}

.prose > *:last-child {
  margin-bottom: 0;
}

/* ----------------------------- Headings ----------------------------------- */

.h1 {
  font-size: 1.125rem;
  font-weight: 700;
  margin: 0.75rem 0 0.375rem;
  color: var(--color-text);
  line-height: 1.3;
}

.h2 {
  font-size: 1rem;
  font-weight: 600;
  margin: 0.625rem 0 0.3125rem;
  color: var(--color-text);
  line-height: 1.3;
}

.h3 {
  font-size: 0.9375rem;
  font-weight: 600;
  margin: 0.5rem 0 0.25rem;
  color: var(--color-text);
}

.h4 {
  font-size: 0.875rem;
  font-weight: 600;
  margin: 0.375rem 0 0.25rem;
  color: var(--color-text);
}

/* ----------------------------- Paragraph ---------------------------------- */

.p {
  margin: 0.375rem 0;
}

/* ----------------------------- Inline code -------------------------------- */

.inlineCode {
  background: var(--color-surface-subtle);
  border-radius: 0.25rem;
  padding: 0.1em 0.35em;
  font-size: 0.8125rem;
  font-family: var(--font-mono);
  color: var(--color-text);
}

/* ----------------------------- Code block --------------------------------- */

.codeBlock {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 0.375rem;
  margin: 0.5rem 0;
  overflow: hidden;
}

.codeLang {
  display: block;
  font-size: 0.6875rem;
  font-family: var(--font-mono);
  color: var(--color-text-muted);
  padding: 0.2rem 0.625rem;
  border-bottom: 1px solid var(--color-border);
  text-align: right;
}

.codeBlock pre {
  margin: 0;
  padding: 0.625rem 0.75rem;
  overflow-x: auto;
  white-space: pre;
}

.codeBlock pre code {
  font-size: 0.8125rem;
  font-family: var(--font-mono);
  color: var(--color-text);
  background: transparent;
  padding: 0;
  border-radius: 0;
}

/* ----------------------------- Lists -------------------------------------- */

.ul,
.ol {
  margin: 0.375rem 0;
  padding-left: 1.5rem;
}

.ul {
  list-style: disc;
}

.ol {
  list-style: decimal;
}

.li {
  margin: 0.1875rem 0;
  line-height: 1.5;
}

/* ----------------------------- Blockquote --------------------------------- */

.blockquote {
  border-left: 3px solid var(--color-border);
  margin: 0.5rem 0;
  padding: 0.25rem 0.75rem;
  color: var(--color-text-muted);
  font-style: italic;
}

/* ----------------------------- Link --------------------------------------- */

.link {
  color: var(--color-agent);
  text-decoration: underline;
  text-underline-offset: 2px;
}

.link:hover {
  opacity: 0.8;
}

/* ----------------------------- Table -------------------------------------- */

.tableWrapper {
  overflow-x: auto;
  margin: 0.5rem 0;
}

.table {
  border-collapse: collapse;
  width: 100%;
  font-size: 0.8125rem;
}

.th,
.td {
  padding: 0.3125rem 0.625rem;
  border: 1px solid var(--color-border);
  text-align: left;
}

.th {
  background: var(--color-surface);
  font-weight: 600;
  color: var(--color-text);
}

.td {
  color: var(--color-text);
}

/* ----------------------------- Horizontal rule ---------------------------- */

.hr {
  border: none;
  border-top: 1px solid var(--color-border);
  margin: 0.75rem 0;
}

/* ----------------------------- Strikethrough (GFM del) ------------------- */

.del {
  text-decoration: line-through;
  color: var(--color-text-muted);
}

/* ----------------------------- Task list checkbox (GFM) ------------------- */

.taskCheckbox {
  margin-right: 0.4rem;
  accent-color: var(--color-agent);
  cursor: default;
  vertical-align: middle;
}

/* ----------------------------- Syntax highlighting (highlight.js) --------- */
/* All selectors are scoped inside .codeBlock so tokens never affect other
   elements. :global() unwraps the hljs class names from CSS Modules hashing. */

.codeBlock :global(.hljs) {
  background: transparent;
  color: var(--color-text);
}

.codeBlock :global(.hljs-comment),
.codeBlock :global(.hljs-quote) {
  color: var(--color-text-muted);
  font-style: italic;
}

.codeBlock :global(.hljs-keyword),
.codeBlock :global(.hljs-selector-tag),
.codeBlock :global(.hljs-built_in),
.codeBlock :global(.hljs-name),
.codeBlock :global(.hljs-tag) {
  color: var(--color-agent);
}

.codeBlock :global(.hljs-string),
.codeBlock :global(.hljs-title),
.codeBlock :global(.hljs-section),
.codeBlock :global(.hljs-attribute),
.codeBlock :global(.hljs-literal),
.codeBlock :global(.hljs-template-tag),
.codeBlock :global(.hljs-template-variable),
.codeBlock :global(.hljs-type),
.codeBlock :global(.hljs-addition) {
  color: var(--color-warning);
}

.codeBlock :global(.hljs-deletion),
.codeBlock :global(.hljs-selector-attr),
.codeBlock :global(.hljs-selector-pseudo),
.codeBlock :global(.hljs-meta) {
  color: var(--color-text-muted);
}

.codeBlock :global(.hljs-doctag),
.codeBlock :global(.hljs-attr),
.codeBlock :global(.hljs-symbol),
.codeBlock :global(.hljs-bullet),
.codeBlock :global(.hljs-link),
.codeBlock :global(.hljs-number),
.codeBlock :global(.hljs-regexp),
.codeBlock :global(.hljs-selector-id),
.codeBlock :global(.hljs-variable) {
  color: var(--color-agent);
  opacity: 0.85;
}

.codeBlock :global(.hljs-emphasis) {
  font-style: italic;
}

.codeBlock :global(.hljs-strong) {
  font-weight: 700;
}
